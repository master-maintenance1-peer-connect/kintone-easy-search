!function(){"use strict";var e={814:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var d=0;d<e.length;d++){var p=[].concat(e[d]);r&&i[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},9:function(e){e.exports=function(e){return e[1]}},843:function(e,t,n){var r=n(9),a=n.n(r),o=n(814),i=n.n(o)()(a());i.push([e.id,'table.dataTable{font-size:14px}table.dataTable thead tr th:first-child,table.dataTable thead tr td:first-child{border-left:1px solid #e3e7e8}table.dataTable tbody tr th:first-child,table.dataTable tbody tr td:first-child{border-left:1px solid #e3e7e8}table.dataTable tr.odd{background-color:#f5f5f5}table.dataTable tr.even{background-color:#fff}table.dataTable thead th,table.dataTable thead td{overflow:hidden;margin-right:-5px;padding:8px 24px;white-space:nowrap;border-top:1px solid #e3e7e8;border-right:1px solid #e3e7e8;border-bottom:1px solid #e3e7e8;text-align:left;letter-spacing:.1em;font-weight:400;word-wrap:normal;background-color:#fff}table.dataTable tbody th,table.dataTable tbody td{white-space:nowrap;border-right:1px solid #e3e7e8;padding:8px 24px;overflow:hidden}table.dataTable tbody tr.selected{background-color:#e1f2f7}.dataTables_wrapper.no-footer .dataTables_scrollBody{border-bottom:1px solid #e3e7e8}.dataTables_filter{text-align:right}.dataTables_filter label{font-family:"メイリオ","Hiragino Kaku Gothic ProN",Meiryo,sans-serif;display:block;margin-bottom:8px;font-size:14px}.dataTables_filter input{box-shadow:2px 2px 4px #f5f5f5 inset,-2px -2px 4px #f5f5f5 inset;display:inline-block;box-sizing:border-box;margin:0;border:1px solid #e3e7e8;background-color:#fff;color:#888;font-size:14px;height:40px;padding:0 8px}.dataTables_filter input:focus{background-color:#e2f2fe;box-shadow:none;color:#000}table.dataTable .kintoneplugin-input-checkbox-item{margin:0}',""]),t.Z=i},379:function(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],c=0;c<e.length;c++){var l=e[c],d=r.base?l[0]+r.base:l[0],p=o[d]||0,s="".concat(d," ").concat(p);o[d]=p+1;var u=n(s),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var b=a(f,r);r.byIndex=c,t.splice(c,0,{identifier:s,updater:b,references:1})}i.push(s)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var l=r(e,a),d=0;d<o.length;d++){var p=n(o[d]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}o=l}}},569:function(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={RECORD_NUMBER:{name:"レコード番号",type:"RECORD_NUMBER"},MODIFIER:{name:"更新者",type:"MODIFIER"},CREATOR:{name:"作成者",type:"CREATOR"},UPDATED_TIME:{name:"更新日時",type:"UPDATED_TIME"},CREATED_TIME:{name:"作成日時",type:"CREATED_TIME"},STATUS:{name:"ステータス",type:"STATUS"},STATUS_ASSIGNEE:{name:"作業者",type:"STATUS_ASSIGNEE"},CATEGORY:{name:"カテゴリー",type:"CATEGORY"},SINGLE_LINE_TEXT:{name:"文字列 (1行)",type:"SINGLE_LINE_TEXT"},RICH_TEXT:{name:"リッチエディター",type:"RICH_TEXT"},MULTI_LINE_TEXT:{name:"文字列 (複数行)",type:"MULTI_LINE_TEXT"},NUMBER:{name:"数値",type:"NUMBER"},CALC:{name:"計算",type:"CALC"},RADIO_BUTTON:{name:"ラジオボタン",type:"RADIO_BUTTON"},CHECK_BOX:{name:"チェックボックス",type:"CHECK_BOX"},MULTI_SELECT:{name:"複数選択",type:"MULTI_SELECT"},DROP_DOWN:{name:"ドロップダウン",type:"DROP_DOWN"},DATE:{name:"日付",type:"DATE"},TIME:{name:"時刻",type:"TIME"},DATETIME:{name:"日時",type:"DATETIME"},FILE:{name:"添付ファイル",type:"FILE"},LINK:{name:"リンク",type:"LINK"},USER_SELECT:{name:"ユーザー選択",type:"USER_SELECT"},GROUP_SELECT:{name:"グループ選択",type:"GROUP_SELECT"},ORGANIZATION_SELECT:{name:"組織選択",type:"ORGANIZATION_SELECT"},REFERENCE_TABLE:{name:"関連レコード一覧",type:"REFERENCE_TABLE"},SUBTABLE:{name:"テーブル",type:"SUBTABLE"},GROUP:{name:"グループ",type:"GROUP"}},t='<div class="kintoneplugin-input-checkbox"> <span class="kintoneplugin-input-checkbox-item"> <input type="checkbox" name="checkbox" id=""> <label for=""></label> </span> </div>',r=n(379),a=n.n(r),o=n(795),i=n.n(o),c=n(569),l=n.n(c),d=n(565),p=n.n(d),s=n(216),u=n.n(s),f=n(589),b=n.n(f),h=n(843),T={};function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,c,"next",e)}function c(e){m(o,r,a,i,c,"throw",e)}i(void 0)}))}}T.styleTagTransform=b(),T.setAttributes=p(),T.insert=l().bind(null,"head"),T.domAPI=i(),T.insertStyleElement=u(),a()(h.Z,T),h.Z&&h.Z.locals&&h.Z.locals;var g=kintone.$PLUGIN_ID,x=kintone.app.getId(),_=kintone.plugin.app.getConfig(g);_.fields=_.fields?JSON.parse(_.fields):[];var I=["SINGLE_LINE_TEXT","MULTI_LINE_TEXT","RICH_TEXT","LINK","NUMBER","CHECK_BOX","RADIO_BUTTON","DROP_DOWN","MULTI_SELECT","RECORD_NUMBER"],C={search:"_INPUT_",searchPlaceholder:"検索",zeroRecords:"データがありません。"},k={};function R(e){var t=String(e);return k[t]||(k[t]=kintone.api("/k/v1/app/form/fields","GET",{app:e}).then((function(e){return e.properties})).catch((function(){return{}}))),k[t]}function O(){return w.apply(this,arguments)}function w(){return w=v(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c,l,d,p,s,u,f,b,h,T,E,m,v,g,_,C,k,O,w,A,L,N,S,U,D,M,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kintone.api("/k/v1/preview/app/form/fields","GET",{app:x});case 2:return t=e.sent,n=t.properties,e.next=6,kintone.api("/k/v1/preview/app/form/layout","GET",{app:x});case 6:r=e.sent,a=r.layout,o=[],function e(t){var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("ROW"===a.type){var i,c=y(a.fields);try{for(c.s();!(i=c.n()).done;){var l=i.value.code;l&&o.push(l)}}catch(e){c.e(e)}finally{c.f()}}else"SUBTABLE"===a.type?o.push(a.code):"GROUP"===a.type&&e(a.layout)}}catch(e){r.e(e)}finally{r.f()}}(a),i=[],c=0,l=o;case 12:if(!(c<l.length)){e.next=37;break}if(d=l[c],p=n[d],s=p.type,u=p.label,f=p.options,"SUBTABLE"!==s){e.next=21;break}for(b={code:d},h=0,T=Object.values(p.fields);h<T.length;h++)E=T[h],m=E.code,v=E.type,g=E.label,_=E.options,i.push({code:m,type:v,label:g,options:_,subTable:b}),!_&&["CHECK_BOX","RADIO_BUTTON","DROP_DOWN","MULTI_SELECT"].includes(v)&&console.error("実装不備! optionsが未定義 "+v);e.next=34;break;case 21:if("REFERENCE_TABLE"!==s){e.next=32;break}if(!p.referenceTable){e.next=30;break}return C=p.referenceTable,k=C.displayFields,O=C.relatedApp,w={code:d,label:u,app:O.app},e.next=27,R(O.app);case 27:A=e.sent,L=y(k);try{for(L.s();!(N=L.n()).done;)S=N.value,A[S]&&(U=A[S].type,D=A[S].label,M=A[S].options,B={code:S,type:U,label:D,options:M,referenceTable:w},i.push(B)),A[S]&&!f&&["CHECK_BOX","RADIO_BUTTON","DROP_DOWN","MULTI_SELECT"].includes(A[S].type)&&console.error("実装不備! optionsが未定義 "+p.type+" "+A[S].type)}catch(e){L.e(e)}finally{L.f()}case 30:e.next=34;break;case 32:i.push({code:d,type:s,label:u,options:f}),!f&&["CHECK_BOX","RADIO_BUTTON","DROP_DOWN","MULTI_SELECT"].includes(s)&&console.error("実装不備! optionsが未定義 "+s);case 34:c++,e.next=12;break;case 37:return e.abrupt("return",i.filter((function(e){var t=e.type;return I.includes(t)})));case 38:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}v(regeneratorRuntime.mark((function n(){var r,a,o,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return new Vue({el:"#config",data:{},methods:{submit:function(){for(var e=$("#fields").DataTable(),t=[],n=0;n<e.data().count();n++){var r=e.row(n),a=r.data(),o=r.node();$(".kintoneplugin-input-checkbox",o).find("input").prop("checked")&&t.push(a)}kintone.plugin.app.setConfig({fields:JSON.stringify(t)})},cancel:function(){history.back()}}}),n.next=3,O();case 3:for(r=n.sent,a=$("#fields").DataTable({language:C,data:r,columnDefs:[{targets:0,title:"",data:null,orderable:!1,defaultContent:t,width:"5%"},{targets:1,title:"インデックス",data:function(e){return r.indexOf(e)},defaultContent:"",visible:!1},{targets:2,title:"フィールド名",data:"label",defaultContent:"",width:"35%",orderable:!1},{targets:3,title:"フィールドコード",data:"code",defaultContent:"",orderable:!1,visible:!1},{targets:4,title:"フィールド種類",data:function(t){return e[t.type].name},defaultContent:"",width:"25%",orderable:!1},{targets:5,title:"テーブル・関連レコード一覧",data:function(e){return e.subTable?e.subTable.code:e.referenceTable?e.referenceTable.label:""},defaultContent:"",width:"35%",orderable:!1}],scrollY:"400px",scrollCollapse:!0,paging:!1,order:[[1,"asc"]],info:!1,searching:!0,createdRow:function(e,t,n){var r=$(".kintoneplugin-input-checkbox",e);r.find("input").attr("id","checkbox-".concat(n)).on("change",(function(t){$(t.target).prop("checked")?$(e).addClass("selected"):$(e).removeClass("selected")})),r.find("label").attr("for","checkbox-".concat(n))}}),$(window).resize((function(){var e=$(".dataTables_wrapper").width("100%"),t=document.body.scrollWidth-document.body.clientWidth;t>0&&e.width(e.width()-t)})),$(window).resize((function(){var e=$(".dataTables_scrollBody").css("maxHeight",document.body.clientHeight),t=document.body.scrollHeight-document.body.clientHeight;t>0&&e.css("maxHeight",e.height()-t-5)})),$(window).resize((function(){a.columns.adjust().draw()})),setTimeout((function(){return $(window).resize()})),(o=$(t).appendTo(a.column(0).header())).find("input").attr("id","checkbox-all").on("change",(function(e){$(e.target).prop("checked")?$(".kintoneplugin-input-checkbox").find("input:not(#checkbox-all)").prop("checked",!0).trigger("change"):$(".kintoneplugin-input-checkbox").find("input:not(#checkbox-all)").prop("checked",!1).trigger("change")})),o.find("label").attr("for","checkbox-all"),a.on("search",(function(){o.find("input").prop("checked",!1)})),i=function(e){var t=a.row(e),n=t.data(),r=t.node(),o=n.code,i=n.type,c=n.subTable,l=void 0===c?{}:c,d=n.referenceTable,p=void 0===d?{}:d;_.fields.findIndex((function(e){return e.code===o&&e.type===i&&(e.subTable||{}).code===l.code&&(e.referenceTable||{}).code===p.code&&(e.referenceTable||{}).app===p.app}))>-1&&$(".kintoneplugin-input-checkbox",r).find("input").prop("checked",!0).trigger("change")},c=0;c<a.data().count();c++)i(c);case 15:case"end":return n.stop()}}),n)})))()}()}();